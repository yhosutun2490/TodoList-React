{"version":3,"sources":["api/auth.js","contexts/AuthContext.js","pages/HomePage.jsx","assets/images/ac-logo.svg","components/common/auth.styled.js","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todo.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["authURL","login","username","password","axios","post","data","authToken","success","console","error","register","email","checkPermission","get","headers","Authorization","response","defaultValue","isAuthenticated","currentMember","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","props","useState","isAuth","setIsAuth","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","localStorage","getItem","resPayload","jwt","Provider","value","setItem","removeItem","children","_path","_path2","_path3","_path4","HomePage","navigate","useNavigate","StyedContainer","styled","div","StyledAuthInputContainer","StyledButton","button","StyledLinkText","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAcLogo","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","id","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","event","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onKeyPress","onAddTodo","className","clsx","active","htmlFor","onKeyDown","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onToggleDone","onSave","onDelete","onChangeMode","editInputRef","useRef","handleKeyDown","todoId","current","isEdit","done","isDone","edit","onDoubleClick","TodoCollection","todos","map","StyledFooter","footer","Footer","todosLength","LoginPage","setName","setPassword","Swal","fire","icon","timer","position","showCloseButton","showConfirmButton","to","SignUpPage","userName","setUserName","setEmail","showCancelButton","baseUrl","axiosInstance","create","baseURL","interceptors","request","use","config","token","getTodos","res","createTodo","patchTodo","patch","deleteTodo","delete","dummyTools","TodoPage","setInputValue","setTodos","preTodos","targetTodo","find","filter","getTodosAsync","apiTodos","name","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"sgBACMA,EAAU,0CACHC,EAAK,iDAAG,4GAAQC,EAAR,EAAQA,SAASC,EAAjB,EAAiBA,SAAjB,kBAEIC,IAAMC,KAAN,UAAcL,EAAd,UACrB,CACEE,WACAC,aALe,mBAEVG,EAFU,EAEVA,MAKaA,EAAbC,UAPU,sDAUPC,SAAS,GAASF,IAVX,gCAYVA,GAZU,kCAcjBG,QAAQC,MAAM,kBAAd,MAdiB,0DAAH,sDAkBLC,EAAQ,iDAAG,8GAAQT,EAAR,EAAQA,SAASU,EAAjB,EAAiBA,MAAMT,EAAvB,EAAuBA,SAAvB,kBAECC,IAAMC,KAAN,UAAeL,EAAf,aAAmC,CACtDE,WACAU,QACAT,aALkB,mBAEbG,EAFa,EAEbA,MAKaA,EAAbC,UAPa,sDAUVC,SAAS,GAASF,IAVR,gCAYbA,GAZa,kCAcpBG,QAAQC,MAAM,sBAAd,MAdoB,0DAAH,sDAiBRG,EAAe,iDAAG,WAAON,GAAP,0GAEJH,IAAMU,IAAN,UAAad,EAAb,eACvB,CACEe,QAAS,CACTC,cAAe,UAAYT,KALF,cAErBU,EAFqB,yBAQpBA,EAASX,KAAKE,SARM,uCAU1BC,QAAQC,MAAM,6BAAd,MAV0B,4EAAH,sD,eC7BtBQ,EAAe,CACnBC,iBAAiB,EACjBC,cAAe,KACfnB,MAAO,KACPoB,OAAQ,MAIJC,EAAcC,wBAAcL,GAE5BM,EAAU,kBAAMC,qBAAWH,EAAjB,EAChB,SAASI,EAAcC,GAErB,MAA2BC,oBAAS,GAApC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA8BF,mBAAS,MAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACQC,EAAaC,cAAbD,SA0BR,OAxBAE,qBAAW,WAET,IAAMC,EAAiB,iDAAG,mGAClB7B,EAAY8B,aAAaC,QAAQ,aADf,uBAItBR,GAAU,GACVE,EAAW,MALW,0CASHnB,EAAgBN,GATb,eAWtBuB,GAAU,GACJS,EAAaC,SAAWjC,GAC9ByB,EAAWO,KAEVT,GAAU,GACXE,EAAW,OAhBW,2CAAH,qDAmBvBI,GACD,GAAG,CAACH,IAGH,cAACX,EAAYmB,SAAb,CAAsBC,MACpB,CAACvB,gBAAiBU,EAClBT,cAAeW,EACfpB,SAAS,WAAD,sCAAE,WAAOL,GAAP,uGAE0BK,EAAS,CACzCT,SAAUI,EAAKJ,SACfU,MAAON,EAAKM,MACZT,SAAUG,EAAKH,WALT,uBAEDK,EAFC,EAEDA,QAAQD,EAFP,EAEOA,WAMTgC,EAAaC,SAAWjC,KAG5BuB,GAAU,GACVE,EAAWO,GACXF,aAAaM,QAAQ,YAAapC,KAElCuB,GAAU,GACVE,EAAW,OAhBL,kBAmBDxB,GAnBC,2CAAF,mDAAC,GAsBTP,MAAM,WAAD,sCAAE,WAAMK,GAAN,uGAC6BL,EAAM,CACtCC,SAAUI,EAAKJ,SACfC,SAAUG,EAAKH,WAHZ,uBACEK,EADF,EACEA,QAAQD,EADV,EACUA,WAKTgC,EAAaC,SAAWjC,KAG5BuB,GAAU,GACVE,EAAWO,GACXF,aAAaM,QAAQ,YAAapC,KAElCuB,GAAU,GACVE,EAAW,OAdR,kBAiBExB,GAjBF,2CAAF,mDAAC,GAoBNa,OAAQ,WACNgB,aAAaO,WAAW,aACxBd,GAAU,GACVE,EAAW,KACZ,GAjDH,SAoDGL,EAAMkB,UAGZ,CCpGD,I,QCLIC,EAAOC,EAAQC,EAAQC,EDmBZC,EAdE,WACf,IAAQ/B,EAAoBK,IAApBL,gBACFgC,EAAWC,cASjB,OAPAjB,qBAAU,WAENgB,EADEhC,EACO,QAEI,SAChB,GAAC,CAACgC,EAAShC,IAEL,0CACR,E,gBEfKkC,EAAiBC,IAAOC,IAAV,sKASdC,EAA2BF,IAAOC,IAAV,gEAKxBE,EAAeH,IAAOI,OAAV,6RAiBZC,EAAiBL,IAAOC,IAAV,wFD/BhBK,EAAY,CAAC,QAAS,WAE1B,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUJ,EAASa,MAAMC,KAAMR,UAAY,CAElV,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhNgB,CAA8BZ,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASoB,EAAUC,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf9D,EAAQiD,EAAyBU,EAAM1B,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD6B,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKR,EACL,kBAAmBE,GAClB9D,GAAQ6D,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM1C,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EmD,SAAU,UACVC,SAAU,UACVC,EAAG,mKACHN,KAAM,aACH9C,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEkD,SAAU,UACVC,SAAU,UACVC,EAAG,mWACHN,KAAM,aACH7C,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEiD,SAAU,UACVC,SAAU,UACVC,EAAG,kMACHN,KAAM,aACH5C,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEgD,SAAU,UACVC,SAAU,UACVC,EAAG,ubACHN,KAAM,aAEV,CAEA,I,yBAAIO,GAA0B,aAAiBf,GElDhC,IFmDA,IEnDA,IAA0B,0CCA1B,OAA0B,yCCA1B,OAA0B,wCCEnCgB,GAAkB/C,IAAOC,IAAV,6MASf+C,GAAchD,IAAOiD,MAAV,yFAMXC,GAAclD,IAAOmD,MAAV,oHAiBFC,GAVG,SAAC/E,GACjB,IAAOgF,EAA6ChF,EAA7CgF,KAAMJ,EAAuC5E,EAAvC4E,MAAM7D,EAAiCf,EAAjCe,MAAQkE,EAAyBjF,EAAzBiF,YAAaC,EAAYlF,EAAZkF,SACxC,OACE,eAACR,GAAD,WACE,cAACC,GAAD,UAAcC,IACd,cAACC,GAAD,CAAaG,KAAMA,GAAQ,OAAQC,YAAaA,EAAalE,MAAOA,EAAOmE,SAAU,SAACC,GAAmB,OAARD,QAAQ,IAARA,KAAWC,EAAM7C,OAAOvB,MAAO,MAGrI,EC9BKqE,GAAezD,IAAO0D,OAAV,qNAcZC,GAAqB3D,IAAOC,IAAV,4FAoBT2D,GAbA,SAACvF,GAEd,IAAQzB,EAAayB,EAAbzB,SACR,OACE,eAAC6G,GAAD,WACE,uCACA,eAACE,GAAD,iBACK,+BAAO/G,SAIjB,E,SC/BKiH,GAAyB7D,IAAOC,IAAV,yTAgBtB6D,GAAkB9D,IAAOiD,MAAV,yKAWfc,GAAuB/D,IAAOC,IAAV,8YA0BpB+D,GAA+BhE,IAAOC,IAAV,2MAsCnBgE,GAxBG,SAAC5F,GAGjB,IAAQ6F,EAAgD7F,EAAhD6F,WAAYX,EAAoClF,EAApCkF,SAAUY,EAA0B9F,EAA1B8F,WAAYC,EAAc/F,EAAd+F,UAE1C,OACE,eAACP,GAAD,CAAwBQ,UAAWC,aAAK,GAAI,CAAEC,OAAQL,EAAWpD,OAAS,IAA1E,UACE,cAACgD,GAAD,CAAiBO,UAAU,OAAOG,QAAQ,mBAC1C,cAACT,GAAD,UACE,uBACErB,GAAG,iBAAiBW,KAAK,OAAOC,YAAY,2BAAOlE,MAAO8E,EAAYX,SAAU,SAACC,GAAoB,OAARD,QAAQ,IAARA,KAAWC,EAAM7C,OAAOvB,MAAQ,EAAEqF,UAAW,SAACjB,GACvH,UAAdA,EAAMxC,MACE,OAAVmD,QAAU,IAAVA,OAEH,MAGL,cAACH,GAAD,CAA8BK,UAAWC,aAAK,GAAI,CAAEC,OAAQL,EAAWpD,OAAS,IAAhF,SACE,wBAAQuD,UAAU,YAAYK,QAAS,yBAAMN,QAAN,IAAMA,OAAN,EAAMA,GAAN,EAAvC,8BAIP,ECnFKO,GAAiB3E,IAAOC,IAAV,+pDA0CU2E,GA0CFC,GAMEC,IAkCfC,GA7BE,SAAC1G,GAChB,IAAQ2G,EAAuD3G,EAAvD2G,KAAMC,EAAiD5G,EAAjD4G,aAAcC,EAAmC7G,EAAnC6G,OAAQC,EAA2B9G,EAA3B8G,SAAUC,EAAiB/G,EAAjB+G,aAExCC,EAAeC,iBAAO,MAE5B,SAASC,EAAe/B,EAAOgC,GAEzBH,EAAaI,QAAQrG,MAAM0B,OAAS,GAAmB,UAAd0C,EAAMxC,IAC3C,OAANkE,QAAM,IAANA,KAAS,CAAExC,GAAI8C,EAAQtD,MAAOmD,EAAaI,QAAQrG,QAC5B,WAAdoE,EAAMxC,MACH,OAAZoE,QAAY,IAAZA,KAAe,CAAE1C,GAAI8C,EAAQE,QAAQ,IAExC,CACD,OACE,eAACf,GAAD,CAAgBN,UAAWC,aAAK,GAAI,CAAEqB,KAAMX,EAAKY,OAAQC,KAAMb,EAAKU,SAApE,UACE,qBAAKrB,UAAU,oBAAf,SACE,sBAAMA,UAAU,oBAAoBK,QAAS,WAAoB,OAAZO,QAAY,IAAZA,KAAeD,EAAKtC,GAAK,MAEhF,sBAAK2B,UAAU,iBAAiByB,cAAe,WAAoB,OAAZV,QAAY,IAAZA,KAAe,CAAE1C,GAAIsC,EAAKtC,GAAIgD,QAAQ,GAAS,EAAtG,UACE,sBAAMrB,UAAU,sBAAhB,SAAuCW,EAAK9C,QAC5C,uBAAOmC,UAAU,uBAAuBzG,aAAcoH,EAAK9C,MAAOO,IAAK4C,EAAcZ,UAAW,SAACjB,GAAyB,OAAb+B,QAAa,IAAbA,KAAgB/B,EAAOwB,EAAKtC,GAAK,OAEhJ,qBAAK2B,UAAU,oBAAf,SACE,wBAAQA,UAAU,6BAA6BK,QAAS,yBAAMS,QAAN,IAAMA,OAAN,EAAMA,EAAWH,EAAKtC,GAAtB,QAI/D,EClHcqD,GAfQ,SAAC1H,GAEtB,IAAQ2H,EAAwD3H,EAAxD2H,MAAOf,EAAiD5G,EAAjD4G,aAAcC,EAAmC7G,EAAnC6G,OAAQC,EAA2B9G,EAA3B8G,SAAUC,EAAiB/G,EAAjB+G,aAC/C,OACE,iDAEGY,EAAMC,KAAI,SAAAjB,GACT,OACE,cAAC,GAAD,CAAwBA,KAAMA,EAAMC,aAAc,SAACvC,GAAD,cAAQuC,QAAR,IAAQA,OAAR,EAAQA,EAAevC,EAAvB,EAA4B0C,aAAc,gBAAG1C,EAAH,EAAGA,GAAIgD,EAAP,EAAOA,OAAP,cAAoBN,QAApB,IAAoBA,OAApB,EAAoBA,EAAe,CAAE1C,KAAIgD,UAAzC,EAAoDR,OAAQ,gBAAGxC,EAAH,EAAGA,GAAIR,EAAP,EAAOA,MAAP,cAAmBgD,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAS,CAAExC,KAAIR,SAAlC,EAA4CiD,SAAU,SAACzC,GAAD,cAAQyC,QAAR,IAAQA,OAAR,EAAQA,EAAWzC,EAAnB,GAA/LsC,EAAKtC,GAEvB,MAGN,ECZKwD,GAAelG,IAAOmG,OAAV,0LAYZhG,GAAeH,IAAOI,OAAV,0WAiCHgG,GAdA,SAAC/H,GACd,IAAQgI,EAAgBhI,EAAhBgI,YACAtI,EAAWG,IAAXH,OAIR,OACE,eAACmI,GAAD,WACE,sEAAWG,KACX,cAAC,GAAD,CAAc3B,QANlB,WACE3G,GACD,EAIG,4BAGL,E,6BCqDcuI,GArFG,WAEhB,MAA4BhI,mBAAS,IAArC,mBAAO1B,EAAP,KAAiB2J,EAAjB,KACA,EAAgCjI,mBAAS,IAAzC,mBAAOzB,EAAP,KAAiB2J,EAAjB,KACM3G,EAAWC,cACjB,EAAmC5B,IAA3BL,EAAR,EAAQA,gBAAiBlB,EAAzB,EAAyBA,MALH,sDAOtB,2FAE0B,IAApBC,EAASkE,QAAoC,IAApBjE,EAASiE,OAFxC,iEAKwBnE,EAAM,CAAEC,WAAUC,aAL1C,yCASI4J,KAAKC,KAAK,CACRxE,MAAO,4BACPyE,KAAM,UACNC,MAAO,KACPC,SAAU,MACVC,iBAAiB,EACjBC,mBAAmB,IAGrBlH,EAAS,SAlBb,0BAsBE4G,KAAKC,KAAK,CACRxE,MAAO,4BACPyE,KAAM,QACNC,MAAO,KACPC,SAAU,MACVC,iBAAiB,EACjBC,mBAAmB,IA5BvB,6CAPsB,sBAoDtB,OAbAlI,qBAAU,WACR,IAAMC,EAAiB,iDAAG,2FAEnBjB,EAFmB,iDAKpBA,GACFgC,EAAS,SANa,2CAAH,qDASvBf,GACD,GAAE,CAACe,EAAUhC,IAGZ,eAAC,EAAD,WACE,8BACE,cAAC,GAAD,MAEF,mDAEA,cAAC,EAAD,UACE,cAAC,GAAD,CACEoF,MAAM,eACN7D,MAAOxC,EACP0G,YAAY,iCACZC,SAAUgD,MAId,cAAC,EAAD,UACE,cAAC,GAAD,CACEtD,MAAM,eACN7D,MAAOvC,EACPyG,YAAY,iCACZD,KAAK,WACLE,SAAUiD,MAGd,cAAC,EAAD,CAAY9B,QA7EM,2CA6ElB,0BACA,cAAC,EAAD,UACE,cAAC,KAAD,CAAMsC,GAAG,UAAT,8BAIP,ECRcC,GA1EI,WAEjB,MAAgC3I,mBAAS,IAAzC,mBAAO4I,EAAP,KAAiBC,EAAjB,KACA,EAA0B7I,mBAAS,IAAnC,mBAAOhB,EAAP,KAAc8J,EAAd,KACA,EAAgC9I,mBAAS,IAAzC,mBAAOzB,EAAP,KAAiB2J,EAAjB,KACM3G,EAAWC,cACjB,EAAqC5B,IAA7BL,EAAR,EAAQA,gBAAiBR,EAAzB,EAAyBA,SANF,sDAQvB,2FAEyB,IAAnB6J,EAASpG,QAA8B,IAAfxD,EAAMwD,QAAgC,IAAlBjE,EAASiE,OAF3D,iEAKwBzD,EACpB,CACET,SAASsK,EACT5J,MAAMA,EACNT,SAASA,IATf,yCAcM4J,KAAKC,KAAK,CACRG,SAAU,MACV3E,MAAO,iCACP0E,MAAO,KACPD,KAAM,UACNI,mBAAmB,EACnBM,kBAAkB,IApB1B,0BAwBEZ,KAAKC,KAAK,CACRG,SAAU,MACV3E,MAAO,sHACP0E,MAAO,KACPD,KAAM,QACNI,mBAAmB,EACnBM,kBAAkB,IA9BtB,4CARuB,sBA+CvB,OANAxI,qBAAU,WACFhB,GACFgC,EAAS,QAEZ,GAAE,CAACA,EAAShC,IAGb,eAAC,EAAD,WACE,8BACE,cAAC,GAAD,MAEF,sEAEA,cAAC,EAAD,UACE,cAAC,GAAD,CAAWoF,MAAM,eAAK7D,MAAO8H,EAAU5D,YAAY,iCAAQC,SAAU4D,MAGvE,cAAC,EAAD,UACE,cAAC,GAAD,CAAWlE,MAAM,eAAK7D,MAAO9B,EAAOgG,YAAY,0BAAWC,SAAU6D,EAAU/D,KAAK,YAGtF,cAAC,EAAD,UACE,cAAC,GAAD,CAAYJ,MAAM,eAAK7D,MAAOvC,EAAUyG,YAAY,iCAAQC,SAAUiD,EAAanD,KAAK,eAE1F,cAAC,EAAD,CAAYqB,QAjEO,2CAiEnB,0BACA,cAAC,KAAD,CAAOsC,GAAG,SAAV,SACC,cAAC,EAAD,+BAKN,E,SCtFKM,GAAU,qCAGVC,GAAgBzK,IAAM0K,OAAO,CACjCC,QAASH,KAIXC,GAAcG,aAAaC,QAAQC,KACjC,SAACC,GACE,IAAMC,EAAQ/I,aAAaC,QAAQ,aAKpC,OAHM8I,IACJD,EAAOpK,QAAP,+BAA4CqK,IAEvCD,CACR,IACD,SAACzK,GAAWD,QAAQC,MAAMA,EAAO,IAG5B,IAAM2K,GAAQ,iDAAG,uHAEFR,GAAc/J,IAAd,UAAqB8J,GAArB,WAFE,cAEdU,EAFc,yBAGbA,EAAIhL,KAAKA,MAHI,gCAMpBG,QAAQC,MAAM,uBAAd,MANoB,yDAAH,qDASR6K,GAAU,iDAAG,WAAOxJ,GAAP,4FACjByD,EAAgBzD,EAAhByD,MAAM0D,EAAUnH,EAAVmH,OADW,kBAGJ2B,GAAcxK,KAAd,UAAsBuK,GAAtB,UAClB,CAAEpF,QACA0D,WALoB,cAGhBoC,EAHgB,yBAOjBA,EAAIhL,MAPa,gCAStBG,QAAQC,MAAM,yBAAd,MATsB,yDAAH,sDAcV8K,GAAS,iDAAG,WAAOzJ,GAAP,8FAChBiE,EAAqBjE,EAArBiE,GAAIR,EAAiBzD,EAAjByD,MAAO0D,EAAUnH,EAAVmH,OADK,kBAGH2B,GAAcY,MAAd,UAAuBb,GAAvB,kBAAwC5E,GAAM,CAACR,QAAM0D,WAHlD,cAGfoC,EAHe,yBAIdA,EAAIhL,MAJU,gCAKNG,QAAQC,MAAM,uBAAd,MALM,yDAAH,sDAQTgL,GAAU,iDAAG,WAAO1F,GAAP,0GAEJ6E,GAAcc,OAAd,UAAwBf,GAAxB,kBAAyC5E,IAFrC,cAEhBsF,EAFgB,yBAGfA,EAAIhL,MAHW,gCAKtBG,QAAQC,MAAM,wBAAd,MALsB,yDAAH,sDC/CjBkL,GAAa,CACf,CACE,MAAS,qBACT,QAAU,EACV,GAAM,GAER,CACE,MAAS,+BACT,QAAU,EACV,GAAM,GAER,CACE,MAAS,uBACT,QAAU,EACV,GAAM,GAER,CACE,MAAS,0BACT,QAAU,EACV,GAAM,IA8KGC,GA3KE,WACf,MAAoCjK,mBAAS,IAA7C,mBAAO4F,EAAP,KAAmBsE,EAAnB,KACA,EAA0BlK,mBAASgK,IAAnC,mBAAOtC,EAAP,KAAcyC,EAAd,KACM5I,EAAYC,cAClB,EAAyC5B,IAAlCL,EAAP,EAAOA,gBAAgBC,EAAvB,EAAuBA,cAJF,sDAUrB,iGAEOoG,EAAWpD,OAFlB,0EAOuBmH,GAAW,CAC9B/F,MAAOgC,EACP0B,QAAQ,IATZ,OAOU5I,EAPV,OAWGyL,GAAS,SAAAC,GACR,MAAM,GAAN,oBACKA,GADL,CAEE,CACEhG,GAAI1F,EAAK0F,GACTR,MAAOlF,EAAKkF,MACZ0D,OAAQ5I,EAAK4I,OACbF,QAAQ,IAGb,IAED8C,EAAc,IAvBhB,kDAwBkBrL,QAAQC,MAAR,MAxBlB,2DAVqB,4EAoCrB,iGAEO8G,EAAWpD,OAFlB,0EAOuBmH,GAAW,CAC9B/F,MAAOgC,EACP0B,QAAQ,IATZ,OAOU5I,EAPV,OAWGyL,GAAS,SAAAC,GACR,MAAM,GAAN,oBACKA,GADL,CAEE,CACEhG,GAAI1F,EAAK0F,GACTR,MAAOlF,EAAKkF,MACZ0D,OAAQ5I,EAAK4I,OACbF,QAAQ,IAGb,IAED8C,EAAc,IAvBhB,kDAwBkBrL,QAAQC,MAAR,MAxBlB,2DApCqB,4EA+DrB,WAAiCsF,GAAjC,wFAEQiG,EAAa3C,EAAM4C,MAAM,SAAA5D,GAAI,OAAIA,EAAKtC,KAAOA,CAAhB,IAFrC,kBAKUwF,GAAU,CACdxF,KACAkD,QAAS+C,EAAW/C,SAP1B,OASI6C,EAASzC,EAAMC,KAAI,SAAAjB,GACnB,OAAIA,EAAKtC,KAAOA,EACP,2BACFsC,GADL,IAEEY,QAASZ,EAAKY,SAGXZ,CACR,KAjBH,gDAmBK7H,QAAQC,MAAM,uBAAd,MAnBL,0DA/DqB,4EA0GrB,wGAA6BsF,EAA7B,EAA6BA,GAAIR,EAAjC,EAAiCA,MAAjC,kBAEUgG,GAAU,CAAExF,KAAIR,UAF1B,OAIKuG,GAAS,SAACC,GACX,OAAOA,EAASzC,KAAI,SAAAjB,GAClB,OAAIA,EAAKtC,KAAOA,EACP,2BACFsC,GADL,IAEE9C,QACAwD,QAAQ,IAGHV,CAEV,GACF,IAhBH,gDAkBK7H,QAAQC,MAAM,uBAAd,MAlBL,0DA1GqB,4EAiIrB,WAA6BoI,GAA7B,oGAEU4C,GAAW5C,GAFrB,OAIEiD,GAAS,SAAAC,GAAQ,OAAIA,EAASG,QAAO,SAAA7D,GAAI,OAAIA,EAAKtC,KAAO8C,CAAhB,GAAxB,IAJnB,+CAMIrI,QAAQC,MAAM,oBAAd,MANJ,yDAjIqB,sBAgKrB,OApBAyB,qBAAW,WAET,IAAMiK,EAAa,iDAAG,uHAEKf,KAFL,OAEZgB,EAFY,OAGlBN,EAAQ,OAACM,QAAD,IAACA,OAAD,EAACA,EAAU9C,KAAI,SAACjB,GAAD,mBAAC,eAAcA,GAAf,IAAqBU,QAAQ,GAA7B,KAHL,gDAIHvI,QAAQC,MAAM,wBAAd,MAJG,yDAAH,qDAMlB0L,GACF,GAAC,IAIDjK,qBAAU,WAEFhB,GACHgC,EAAS,SAEZ,GAAE,CAACA,EAAShC,IAGb,2CAEE,cAAC,GAAD,CAAQjB,SAAQ,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAekL,OACjC,cAAC,GAAD,CAAW9E,WAAYA,EAAYX,SA9JvC,SAAsBnE,GACpBoJ,EAAcpJ,EACf,EA4J6DgF,UApKzC,2CAoKmED,WApKnE,6CAqKjB,cAAC,GAAD,CAAgB6B,MAAOA,EAAOf,aArKb,4CAqK6CG,aA9ElE,YAA4C,IAAf1C,EAAc,EAAdA,GAAIgD,EAAU,EAAVA,OAE/B+C,GAAS,SAACC,GACR,OAAOA,EAASzC,KAAI,SAAAjB,GAClB,OAAIA,EAAKtC,KAAOA,EACP,2BACFsC,GADL,IAEEU,WAGK,2BACFV,GADL,IAEEU,QAAQ,GAGb,GACF,GACF,EA6DiGR,OArK7E,4CAqKiGC,SArKjG,8CAsKjB,cAAC,GAAD,CAAQkB,YAAaL,EAAMlF,WAGhC,EC9KcmI,OAjBf,WACE,OACE,qBAAK5E,UAAU,MAAf,SACE,cAAC,KAAD,UACA,cAACjG,EAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8K,KAAK,QAAQC,QAAS,cAAC,GAAD,MAC7B,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,OAAOC,QAAS,cAAC,GAAD,MAC5B,cAAC,IAAD,CAAOD,KAAK,IAAIC,QAAS,cAAC,EAAD,cAMlC,ECRcC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EACT,GAEJ,ECJYQ,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,OAOJd,I","file":"static/js/main.6b122981.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\r\nexport const login = async ({username,password}) => {\r\n  try {\r\n    const {data} = await axios.post(`${authURL}/login`, \r\n    {\r\n      username,\r\n      password\r\n    })\r\n    const {authToken} = data\r\n    // 如果後端驗證成功有回傳JWT token\r\n    if (authToken) {\r\n      return {success: true, ...data}\r\n    }\r\n    return data\r\n  } catch (error) {\r\n    console.error('[Login Failed]:', error);\r\n  }\r\n}\r\n\r\nexport const register = async ({username,email,password}) => {\r\n  try {\r\n    const {data} = await axios.post (`${authURL}/register`, {\r\n      username,\r\n      email,\r\n      password\r\n    })\r\n    const {authToken} = data\r\n    // 如果註冊成功，會回傳token\r\n    if (authToken) {\r\n      return {success: true ,...data }\r\n    }\r\n    return data\r\n  } catch (error) {\r\n    console.error('[Register Failed]: ', error);}\r\n}\r\n// 後端驗證token是否還有效\r\nexport const checkPermission = async (authToken) => {\r\n  try {\r\n    const response = await axios.get(`${authURL}/test-token`,\r\n    {\r\n      headers: {\r\n      Authorization: 'Bearer ' + authToken,\r\n    }\r\n  })\r\n    return response.data.success\r\n  } catch(error) {\r\n     console.error('[Check Permission Failed]:', error);\r\n     // return something here....\r\n     return \r\n  }\r\n} ","import { createContext , useState} from \"react\";\r\nimport {checkPermission, login ,register } from '../api/auth' // 引入串好的api\r\nimport * as jwt from 'jsonwebtoken'; //引入jwt解析工具\r\nimport { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\n\r\n// 設定一開始context 預設值\r\nconst defaultValue = {\r\n  isAuthenticated: false, //是否通過後端驗證\r\n  currentMember: null,  //現在使用者是誰\r\n  login: null, //登入function\r\n  logout: null, // 登出function\r\n}\r\n\r\n\r\nconst AuthContext = createContext(defaultValue)\r\n// useContext hook 讓子層可以調用\r\nconst useAuth = () => useContext(AuthContext)\r\nfunction AuthProvider (props) {\r\n  // 先放兩個狀態，一個是登入驗證是否還有效，一個拿來裝payload使用者資料\r\n  const [isAuth,setIsAuth] = useState(false)\r\n  const [payload, setPayload] = useState(null)\r\n  const { pathname } = useLocation() //當前頁面路徑\r\n  // useEffect 確定checkPermission狀態\r\n  useEffect( () => {\r\n    // 驗證localStorage token是否還有效\r\n    const checkTokenIsValid = async () => {\r\n      const authToken = localStorage.getItem('authToken')\r\n      if (!authToken) {\r\n        // 取消登入狀態\r\n        setIsAuth(false)\r\n        setPayload(null)\r\n        return\r\n      }\r\n      // 如果有token的話 再次驗證\r\n      const result = await checkPermission(authToken)\r\n      if (result) {\r\n        setIsAuth(true)\r\n        const resPayload = jwt.decode(authToken)\r\n        setPayload(resPayload)\r\n      } else {\r\n         setIsAuth(false)\r\n        setPayload(null)\r\n      }\r\n    }\r\n    checkTokenIsValid()\r\n  } , [pathname])\r\n\r\n  return (\r\n    <AuthContext.Provider value={\r\n      {isAuthenticated: isAuth,\r\n      currentMember: payload,\r\n      register: async (data) => {\r\n        // 使用註冊register API\r\n        const {success,authToken} = await register({\r\n          username: data.username,\r\n          email: data.email,\r\n          password: data.password,\r\n        })\r\n        // 解析回傳token成payload資料\r\n        const resPayload = jwt.decode(authToken)\r\n        // 如果有回傳token，存入localStorage\r\n        if (resPayload) {\r\n          setIsAuth(true)\r\n          setPayload(resPayload)\r\n          localStorage.setItem('authToken', authToken);\r\n        } else {\r\n          setIsAuth(false)\r\n          setPayload(null)\r\n        }\r\n        // success 有可能是true or false去判斷註冊成功與否\r\n        return success\r\n\r\n      },\r\n      login: async(data) => {\r\n        const {success,authToken} = await login({\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        // 解析回傳token成payload資料\r\n        const resPayload = jwt.decode(authToken)\r\n        // 如果有回傳token，存入localStorage\r\n        if (resPayload) {\r\n          setIsAuth(true)\r\n          setPayload(resPayload)\r\n          localStorage.setItem('authToken', authToken);\r\n        } else {\r\n          setIsAuth(false)\r\n          setPayload(null)\r\n        }\r\n        // success 有可能是true or false去判斷註冊成功與否\r\n        return success\r\n      },\r\n      // logout 只要清除localstorage token\r\n      logout: () => {\r\n        localStorage.removeItem('authToken')\r\n        setIsAuth(false)\r\n        setPayload(null)\r\n      }\r\n    }\r\n    }>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport  {AuthProvider,useAuth}","// 根據使用者是否登入狀態，導入對應頁面\r\nimport { useEffect } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst HomePage = () => {\r\n  const { isAuthenticated } = useAuth()\r\n  const navigate = useNavigate()\r\n  // 每次跳入HomePage時，自動判斷導向\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/todo')\r\n    }\r\n    else {navigate('/login')}\r\n  },[navigate,isAuthenticated])\r\n\r\n  return <div>HomePage</div>\r\n}\r\n\r\nexport default HomePage\r\n","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.eea79863.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\r\n\r\nconst StyedContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 50px;\r\n`\r\n\r\nconst StyledAuthInputContainer = styled.div`\r\n  width: 50%;\r\n  margin-top: 30px;\r\n`\r\n\r\nconst StyledButton = styled.button`\r\n  border-radius: 30px;\r\n  background-color: #ff6600;\r\n  border: none;\r\n\r\n  color: white;\r\n  min-width: 300px;\r\n  font-family: 'Noto Sans TC', sans-serif;\r\n  font-weight: bold;\r\n  padding: 6px 0;\r\n  margin: 2rem 0;\r\n\r\n  &.hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst StyledLinkText = styled.div`\r\n  color: #0062ff;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`\r\n\r\nexport {\r\n  StyedContainer as AuthContainer,\r\n  StyledAuthInputContainer as AuthInputContainer,\r\n  StyledButton as AuthButton,\r\n  StyledLinkText as AuthLinkText\r\n}\r\n","export default __webpack_public_path__ + \"static/media/check-active.680985db.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.ad8591fd.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.f1b1bcfd.svg\";","import styled from 'styled-components'\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  background-color: #f5f8fa;\r\n  width: 100%;\r\n  height: 54px;\r\n  border-bottom: 2px solid black;\r\n`\r\nconst StyledLabel = styled.label`\r\n  font-size: 14;\r\n  color: '#696974';\r\n  text-align: start;\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  outline: none;\r\n  border: none;\r\n  background-color: #f5f8fa;\r\n  border-radius: 0px;\r\n`\r\n\r\nconst AuthInput = (props) => {\r\n  const {type, label,value , placeholder ,onChange} = props\r\n  return (\r\n    <StyledContainer>\r\n      <StyledLabel>{label}</StyledLabel>\r\n      <StyledInput type={type || 'text'} placeholder={placeholder} value={value} onChange={(event) => {onChange?.(event.target.value)}} />\r\n    </StyledContainer>\r\n  )\r\n}\r\n\r\nexport default AuthInput\r\n","import styled from 'styled-components'\r\n\r\nconst StyledHeader = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  color: var(--major);\r\n  padding: 0 16px;\r\n\r\n  h3 {\r\n    font-weight: 400;\r\n    user-select: none;\r\n  }\r\n`\r\n\r\nconst StyledGreetingText = styled.div`\r\n  color: var(--gray);\r\n  span {\r\n    color: var(--major);\r\n  }\r\n`\r\n\r\nconst Header = (props) => {\r\n  // Header 元件props\r\n  const { username } = props\r\n  return (\r\n    <StyledHeader>\r\n      <h3>Tasks</h3>\r\n      <StyledGreetingText>\r\n        Hi <span>{username}</span>\r\n      </StyledGreetingText>\r\n    </StyledHeader>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import clsx from 'clsx'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledAddTodoContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  &.active {\r\n    box-shadow: 0 17px 0 -16px var(--major);\r\n  }\r\n`\r\n\r\nconst StyledLabelIcon = styled.label`\r\n  display: inline-flex;\r\n  font-size: 30px;\r\n  transition: color 0.2s ease-out;\r\n  font-weight: 300;\r\n\r\n  &:after {\r\n    content: '+';\r\n  }\r\n`\r\n\r\nconst StyledInputContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  user-select: none;\r\n\r\n  input {\r\n    flex: 1;\r\n    padding: 8px 12px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--major);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n  &.active {\r\n    input::placeholder {\r\n      color: var(--gray);\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledAddTodoActionContainer = styled.div`\r\n  button {\r\n    font-size: 13px;\r\n    color: var(--major);\r\n    padding-right: 5px;\r\n    display: none;\r\n  }\r\n\r\n  &.active {\r\n    button {\r\n      display: block;\r\n    }\r\n  }\r\n`\r\nconst TodoInput = (props) => {\r\n  // 讓使用者輸入資料，並監聽輸入欄位資料，onAddToDo (上傳todo資料儲存)\r\n  // onChange = 上面傳的setInputValue\r\n  const { inputValue, onChange, onKeyPress, onAddTodo } = props\r\n\r\n  return (\r\n    <StyledAddTodoContainer className={clsx('', { active: inputValue.length > 0 })}>\r\n      <StyledLabelIcon className='icon' htmlFor='add-todo-input' />\r\n      <StyledInputContainer>\r\n        <input\r\n          id='add-todo-input' type='text' placeholder='新增工作' value={inputValue} onChange={(event) => { onChange?.(event.target.value) }} onKeyDown={(event) => {\r\n            if (event.key === 'Enter') {\r\n              onKeyPress?.()\r\n            }\r\n          }}\r\n        />\r\n      </StyledInputContainer>\r\n      <StyledAddTodoActionContainer className={clsx('', { active: inputValue.length > 0 })}>\r\n        <button className='btn-reset' onClick={() => onAddTodo?.()}>新增</button>\r\n      </StyledAddTodoActionContainer>\r\n    </StyledAddTodoContainer>\r\n  )\r\n}\r\n\r\nexport default TodoInput\r\n","import styled from 'styled-components'\r\nimport clsx from 'clsx' // 引入className變換套件\r\nimport { useRef } from 'react'\r\nimport {\r\n  CheckActiveIcon,\r\n  CheckCircleIcon,\r\n  CheckHoverIcon\r\n} from 'assets/images'\r\n\r\nconst StyledTaskItem = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  .task-item-body-input {\r\n    user-select: none;\r\n    display: none;\r\n    flex: 1;\r\n    padding: 8px 0px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--gray);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n\r\n  &:hover {\r\n    background: #fff3eb;\r\n    box-shadow: inset 0 0 0 1px #fff3eb;\r\n\r\n    .task-item-action .btn-destroy {\r\n      display: inline-flex;\r\n    }\r\n  }\r\n\r\n  &.done {\r\n    .task-item-body {\r\n      color: var(--gray);\r\n      text-decoration: line-through;\r\n    }\r\n\r\n    .icon-checked {\r\n      background-image: url(${CheckActiveIcon});\r\n    }\r\n  }\r\n\r\n  &.edit {\r\n    .task-item-body-input {\r\n      display: block;\r\n    }\r\n    .task-item-body-text {\r\n      display: none;\r\n    }\r\n    .task-item-action {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .task-item-checked {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .task-item-body {\r\n    font-weight: 400;\r\n    padding: 8px 12px;\r\n    flex: 1;\r\n    display: flex;\r\n  }\r\n\r\n  .task-item-action {\r\n    .btn-destroy {\r\n      display: block;\r\n      font-size: 30px;\r\n      transition: color 0.2s ease-out;\r\n      font-weight: 300;\r\n      &:after {\r\n        content: '×';\r\n      }\r\n    }\r\n  }\r\n\r\n  .icon-checked {\r\n    background-image: url(${CheckCircleIcon});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n\r\n    &:hover {\r\n      transition: background-image 0.5s;\r\n      background-image: url(${CheckHoverIcon});\r\n    }\r\n  }\r\n`\r\n\r\nconst TodoItem = (props) => {\r\n  const { todo, onToggleDone, onSave, onDelete, onChangeMode } = props\r\n  // 設定 ref 捕捉編輯時DOM元素value\r\n  const editInputRef = useRef(null)\r\n  // 編輯中按下Enter/Esc\r\n  function handleKeyDown (event, todoId) {\r\n    // 按到Enter時\r\n    if (editInputRef.current.value.length > 0 &&　event.key === 'Enter') {\r\n      onSave?.({ id: todoId, title: editInputRef.current.value })\r\n    } else if (event.key === 'Escape') {\r\n      onChangeMode?.({ id: todoId, isEdit: false })\r\n    }\r\n  }\r\n  return (\r\n    <StyledTaskItem className={clsx('', { done: todo.isDone, edit: todo.isEdit })}>\r\n      <div className='task-item-checked'>\r\n        <span className='icon icon-checked' onClick={() => { onToggleDone?.(todo.id) }} />\r\n      </div>\r\n      <div className='task-item-body' onDoubleClick={() => { onChangeMode?.({ id: todo.id, isEdit: true }) }}>\r\n        <span className='task-item-body-text'>{todo.title}</span>\r\n        <input className='task-item-body-input' defaultValue={todo.title} ref={editInputRef} onKeyDown={(event) => { handleKeyDown?.(event, todo.id) }} />\r\n      </div>\r\n      <div className='task-item-action '>\r\n        <button className='btn-reset btn-destroy icon' onClick={() => onDelete?.(todo.id)} />\r\n      </div>\r\n    </StyledTaskItem>\r\n  )\r\n}\r\n\r\nexport default TodoItem\r\n","import TodoItem from './TodoItem'\r\n\r\nconst TodoCollection = (props) => {\r\n  // todos = 所有代辦事項，用for迴圈渲染清單\r\n  const { todos, onToggleDone, onSave, onDelete, onChangeMode } = props\r\n  return (\r\n    <div>\r\n      TodoCollection\r\n      {todos.map(todo => {\r\n        return (\r\n          <TodoItem key={todo.id} todo={todo} onToggleDone={(id) => onToggleDone?.(id)} onChangeMode={({ id, isEdit }) => onChangeMode?.({ id, isEdit })} onSave={({ id, title }) => onSave?.({ id, title })} onDelete={(id) => onDelete?.(id)} />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TodoCollection\r\n","import styled from 'styled-components'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst StyledFooter = styled.footer`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  padding: 0 16px;\r\n  p {\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n    margin: 2rem 0 1rem;\r\n  }\r\n`\r\n\r\nconst StyledButton = styled.button`\r\n  padding: 0;\r\n  border: 0;\r\n  background: none;\r\n  vertical-align: baseline;\r\n  appearance: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  cursor: pointer;\r\n  outline: 0;\r\n\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  margin: 2rem 0 1rem;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst Footer = (props) => {\r\n  const { todosLength } = props\r\n  const { logout } = useAuth()\r\n  function handleClick () {\r\n    logout()\r\n  }\r\n  return (\r\n    <StyledFooter>\r\n      <p>剩餘項目數： {todosLength}</p>\r\n      <StyledButton onClick={handleClick}>登出</StyledButton>\r\n    </StyledFooter>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport { useState } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { useNavigate, Link } from 'react-router-dom'; //轉址功能\r\nimport { useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext'; // 引入context狀態和函式(login)\r\n\r\nconst LoginPage = () => {\r\n  // login page資料狀態\r\n  const [username, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate(); // navigate callback\r\n  const { isAuthenticated, login } = useAuth();\r\n\r\n  async function handleClick() {\r\n    // 登入輸入框有一個沒填不做事\r\n    if (username.length === 0 || password.length === 0) {\r\n      return;\r\n    }\r\n    const success = await login({ username, password });\r\n    // 登入驗證成功 success = true\r\n    if (success) {\r\n      // 登入成功視窗\r\n      Swal.fire({\r\n        title: '登入成功!',\r\n        icon: 'success',\r\n        timer: 2500,\r\n        position: 'top',\r\n        showCloseButton: false,\r\n        showConfirmButton: false,\r\n      });\r\n      // 成功後轉向todo頁面\r\n      navigate('/todo');\r\n      return;\r\n    }\r\n    // 登入失敗跳窗\r\n    Swal.fire({\r\n      title: '登入失敗!',\r\n      icon: 'error',\r\n      timer: 2500,\r\n      position: 'top',\r\n      showCloseButton: false,\r\n      showConfirmButton: false,\r\n    });\r\n  }\r\n  // 如果畫面重整或換頁，使用者登入狀態保持，利用localStorage token驗證\r\n  useEffect(() => {\r\n    const checkTokenIsValid = async () => {\r\n      // 利用context傳來的登入狀態判斷\r\n      if (!isAuthenticated) {\r\n        return;\r\n      }\r\n      if (isAuthenticated) {\r\n        navigate('/todo');\r\n      }\r\n    };\r\n    checkTokenIsValid();\r\n  }, [navigate, isAuthenticated]);\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>登入 Todo</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"姓名\"\r\n          value={username}\r\n          placeholder=\"請輸入大名\"\r\n          onChange={setName}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"密碼\"\r\n          value={password}\r\n          placeholder=\"請輸入密碼\"\r\n          type=\"password\"\r\n          onChange={setPassword}\r\n        />\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>登入</AuthButton>\r\n      <AuthLinkText>\r\n        <Link to=\"/signup\">註冊</Link>\r\n      </AuthLinkText>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText\r\n} from 'components/common/auth.styled'\r\nimport { ACLogoIcon } from 'assets/images'\r\nimport { AuthInput } from 'components'\r\nimport { useState } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst SignUpPage = () => {\r\n  // 帳號、密碼、email\r\n  const [userName, setUserName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const navigate = useNavigate()\r\n  const { isAuthenticated ,register} = useAuth()\r\n\r\n  async function handleClick() {\r\n    // 如果輸入框有其中一個為空值不做事\r\n    if (userName.length ===0 || email.length===0 || password.length===0) {\r\n      return\r\n    }\r\n    const success = await register (\r\n      {\r\n        username:userName,\r\n        email:email,\r\n        password:password\r\n      }\r\n    ) \r\n    if (success) {\r\n        // 成功註冊跳出視窗\r\n        Swal.fire({\r\n          position: 'top',\r\n          title: '註冊成功！',\r\n          timer: 2500,\r\n          icon: 'success',\r\n          showConfirmButton: false,\r\n          showCancelButton: false\r\n          })\r\n          return \r\n    }\r\n    Swal.fire({\r\n      position: 'top',\r\n      title: '註冊失敗！ 可能帳密已經被註冊或格式錯誤',\r\n      timer: 2500,\r\n      icon: 'error',\r\n      showConfirmButton: false,\r\n      showCancelButton: false\r\n    });\r\n  }\r\n  useEffect(() => {\r\n      if (isAuthenticated) {\r\n        navigate('/todo');\r\n      }\r\n    }, [navigate,isAuthenticated]\r\n    );\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>建立您的帳號</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput label=\"帳號\" value={userName} placeholder=\"請輸入帳號\" onChange={setUserName}/>\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput label=\"信箱\" value={email} placeholder=\"請輸入email\" onChange={setEmail} type=\"email\"/>\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput  label=\"密碼\" value={password} placeholder=\"請輸入密碼\" onChange={setPassword} type=\"password\"/>\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\r\n      <Link  to=\"/login\">\r\n       <AuthLinkText>取消</AuthLinkText>\r\n      </Link>\r\n      \r\n    </AuthContainer>\r\n  )\r\n}\r\n\r\nexport default SignUpPage\r\n","import axios from 'axios'\r\nconst baseUrl = 'https://todo-list.alphacamp.io/api'; // 替換成替換成AC server\r\n\r\n// 產生axios 實例來管理API\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseUrl,\r\n});\r\n\r\n// 利用axios 攔截器再發現請求前帶入token\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n     const token = localStorage.getItem('authToken'); // 取出token\r\n     // 如果有token的話 放入API請求Header中\r\n      if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    return config\r\n  },\r\n  (error) => {console.error(error)}\r\n)\r\n\r\nexport const getTodos = async () => {\r\n  try {\r\n    const res = await axiosInstance.get(`${baseUrl}/todos`)\r\n    return res.data.data\r\n  }\r\n  catch (error) {\r\n    console.error('[Get Todos failed]: ', error);\r\n  }\r\n}\r\nexport const createTodo = async (payload) => {\r\n  const {title,isDone} = payload\r\n  try {\r\n    const res = await axiosInstance.post(`${baseUrl}/todos`, \r\n    { title,\r\n      isDone\r\n    })\r\n  return res.data\r\n  } catch (error) {\r\n    console.error('[Create Todo failed]: ', error);\r\n  }\r\n  \r\n}\r\n\r\nexport const patchTodo = async (payload) => {\r\n  const {id, title, isDone} = payload\r\n  try {\r\n    const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`, {title,isDone})\r\n    return res.data\r\n  } catch (error) {console.error('[Patch Todo failed]:', error)}\r\n\r\n}\r\nexport const deleteTodo = async (id) => {\r\n  try {\r\n    const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`)\r\n    return res.data\r\n  } catch (error) {\r\n    console.error('[Delete Todo failed]:', error);\r\n  }\r\n}\r\n\r\n","import { Footer, Header, TodoCollection, TodoInput } from 'components'\r\nimport { useState , useEffect } from 'react'\r\nimport { getTodos , createTodo ,patchTodo ,deleteTodo } from 'api/todo'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from 'contexts/AuthContext';\r\nconst dummyTools = [\r\n    {\r\n      \"title\": \"Learn react-router\",\r\n      \"isDone\": true,\r\n      \"id\": 1\r\n    },\r\n    {\r\n      \"title\": \"Learn to create custom hooks\",\r\n      \"isDone\": false,\r\n      \"id\": 2\r\n    },\r\n    {\r\n      \"title\": \"Learn to use context\",\r\n      \"isDone\": true,\r\n      \"id\": 3\r\n    },\r\n    {\r\n      \"title\": \"Learn to implement auth\",\r\n      \"isDone\": false,\r\n      \"id\": 4\r\n    }\r\n  ]\r\nconst TodoPage = () => {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const [todos, setTodos] = useState(dummyTools)\r\n  const navigate =  useNavigate()\r\n  const {isAuthenticated,currentMember } = useAuth()\r\n  // input onChange handler\r\n  function handleInput (value) {\r\n    setInputValue(value)\r\n  }\r\n  // addTodo handler\r\n  async function  handleAddTodo () {\r\n    // inputValue 長度=0 直接return\r\n    if (!inputValue.length) {\r\n      return\r\n    }\r\n    // 新增Todo資料到後端資料庫，並拉回新資料更新狀態\r\n    try {\r\n      const data = await createTodo({\r\n      title: inputValue,\r\n      isDone: false\r\n    })\r\n     setTodos(preTodos => {\r\n      return [\r\n        ...preTodos,\r\n        {\r\n          id: data.id,\r\n          title: data.title,\r\n          isDone: data.isDone,\r\n          isEdit: false\r\n        }\r\n      ]\r\n    })\r\n    // 清空原本 inputValue 輸入值\r\n    setInputValue('')\r\n    } catch(error) {console.error(error)} \r\n  }\r\n  async function handleKeyDown () {\r\n     // inputValue 長度=0 直接return\r\n    if (!inputValue.length) {\r\n      return\r\n    }\r\n    // 新增Todo資料到後端資料庫，並拉回新資料更新狀態\r\n    try {\r\n      const data = await createTodo({\r\n      title: inputValue,\r\n      isDone: false,\r\n    })\r\n     setTodos(preTodos => {\r\n      return [\r\n        ...preTodos,\r\n        {\r\n          id: data.id,\r\n          title: data.title,\r\n          isDone: data.isDone,\r\n          isEdit: false\r\n        }\r\n      ]\r\n    })\r\n    // 清空原本 inputValue 輸入值\r\n    setInputValue('')\r\n    } catch(error) {console.error(error)} \r\n  }\r\n  // toggle更動todo完成/未完成\r\n  async function handleToggleDone (id) {\r\n    // 利用id找到該筆todo\r\n    const targetTodo = todos.find( todo => todo.id === id)\r\n    // 先更新資料庫，再更新本地端狀態\r\n    try {\r\n      await patchTodo({\r\n        id,\r\n        isDone: !targetTodo.isDone,\r\n      })\r\n      setTodos(todos.map(todo => {\r\n      if (todo.id === id) {\r\n        return {\r\n          ...todo,\r\n          isDone: !todo.isDone\r\n        }\r\n      }\r\n      return todo\r\n    }))\r\n    } catch (error) {\r\n       console.error('onChangeToggle error',error);\r\n    }\r\n \r\n  }\r\n  // handleChangeMode function {id,isEdit} 解構傳入的參數\r\n  function handleChangeMode ({ id, isEdit }) {\r\n    // 呼叫setTodos 更新該筆Todo isEdit屬性\r\n    setTodos((preTodos) => {\r\n      return preTodos.map(todo => {\r\n        if (todo.id === id) {\r\n          return {\r\n            ...todo,\r\n            isEdit\r\n          }\r\n        } else {\r\n          return {\r\n            ...todo,\r\n            isEdit: false\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n  // 編輯完Save，更改後端todo isDone資料存入就行\r\n  async function handleSave ({ id, title }) {\r\n    try {\r\n      await patchTodo({ id, title }) // 資料端執行\r\n      // 本地端執行\r\n       setTodos((preTodos) => {\r\n      return preTodos.map(todo => {\r\n        if (todo.id === id) {\r\n          return {\r\n            ...todo,\r\n            title,\r\n            isEdit: false\r\n          }\r\n        } else {\r\n          return todo\r\n        }\r\n      })\r\n    })\r\n    } catch(error) {\r\n       console.error('onSave handler error',error);\r\n    }\r\n   \r\n  }\r\n  // handleDelete刪除功能\r\n  async function handleDelete (todoId) {\r\n    try {\r\n      await deleteTodo(todoId)\r\n      // 從todos刪掉該筆todoItem資料\r\n    setTodos(preTodos => preTodos.filter(todo => todo.id !== todoId))\r\n    } catch(error) {\r\n      console.error('handleDelte error',error)\r\n    }\r\n  }\r\n\r\n  // 由API獲取所有Todos資料\r\n  useEffect (() => {\r\n    // 定義初始資料fetch api\r\n    const getTodosAsync = async ()=> {\r\n      try {\r\n        const apiTodos = await getTodos() // 等待資料回傳後渲染\r\n        setTodos(apiTodos?.map((todo) => ({...todo, isEdit: false})))\r\n      } catch (error) {console.error('initialize todo error',error)}\r\n    }\r\n     getTodosAsync(); \r\n  },[])\r\n\r\n\r\n  // 換頁後驗證功能\r\n   useEffect(() => {\r\n      // 如果token驗證狀態沒過\r\n      if (!isAuthenticated) {\r\n        navigate('/login');\r\n      }\r\n    }, [navigate,isAuthenticated]);\r\n\r\n  return (\r\n    <div>\r\n      TodoPage\r\n      <Header username={currentMember?.name}/>\r\n      <TodoInput inputValue={inputValue} onChange={handleInput} onAddTodo={handleAddTodo} onKeyPress={handleKeyDown} />\r\n      <TodoCollection todos={todos} onToggleDone={handleToggleDone} onChangeMode={handleChangeMode} onSave={handleSave} onDelete={handleDelete} />\r\n      <Footer todosLength={todos.length} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TodoPage\r\n","import './App.scss'\r\nimport { HomePage, TodoPage, LoginPage, SignUpPage } from './pages' // 引入4個主頁面\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom' // react路由模組\r\nimport { AuthProvider} from './contexts/AuthContext'\r\n\r\nfunction App () {\r\n  return (\r\n    <div className='app'>\r\n      <BrowserRouter>\r\n      <AuthProvider>\r\n        <Routes>\r\n          <Route path='login' element={<LoginPage />} />\r\n          <Route path='signup' element={<SignUpPage />} />\r\n          <Route path='todo' element={<TodoPage />} />\r\n          <Route path='*' element={<HomePage />} />\r\n        </Routes>\r\n      </AuthProvider>\r\n      </BrowserRouter>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry)\r\n      getFID(onPerfEntry)\r\n      getFCP(onPerfEntry)\r\n      getLCP(onPerfEntry)\r\n      getTTFB(onPerfEntry)\r\n    })\r\n  }\r\n}\r\n\r\nexport default reportWebVitals\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'))\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}